create keyspace movies with replication = { 'class': 'SimpleStrategy', 'replication_factor': 1 };

create table movies.udata (
    user_id int,
    item_id int,
    rating double,
    primary key(user_id, item_id)
);

create table movies.uresult (
    user_id int,
    movie_id int,
    rating decimal,
    datetime timestamp,
    primary key(user_id, movie_id)
);

create table movies.results (user_id int, movie_id int, rating decimal, datetime timestamp, primary key(user_id, movie_id));


copy movies.udata (user_id, item_id, rating) from 'u.data.now' with delimiter='\t';
copy movies.uitem (movie_id, name) from 'u.item.now' with delimiter='\t';

curljson -XPOST http://localhost:8080/movie-model-train
curljson -XGET http://localhost:8080/movie-get-recommendation/1

export SPARK_LOCAL_IP="127.0.0.1"

-------------------
Test
-------------------

create table movies.udata (
    user_id int primary key,
    item_id int,
    rating double
);


create table udata(user_id int,item_id int,rating double, primary key(user_id));

